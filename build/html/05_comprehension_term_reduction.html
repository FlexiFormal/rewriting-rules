<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Section 5: Comprehension Term Reduction &#8212; rewriting-rules  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/rewriting.css?v=b865d8cc" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Rule 5.1: “Then” Comprehension Term Reduction" href="rules/rule_5_01.html" />
    <link rel="prev" title="Rule 4.17: “Either”-PP Aggregation" href="rules/rule_4_17.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="section-5-comprehension-term-reduction">
<h1>Section 5: Comprehension Term Reduction<a class="headerlink" href="#section-5-comprehension-term-reduction" title="Link to this heading">¶</a></h1>
<p>A comprehension term is, in its most general form, an expression of the form
<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>C</mi><mi>:</mi><mo>&#x0003D;</mo><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>t</mi><mo stretchy="false">[</mo><msub><mi>y</mi><mn>1</mn></msub><mo>&#x0002C;</mo><mo>&#x02026;</mo><mo>&#x0002C;</mo><msub><mi>y</mi><mi>m</mi></msub><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo>&#x02223;</mo><mi>&#x003C6;</mi><mo stretchy="false">[</mo><msub><mi>y</mi><mn>1</mn></msub><mo>&#x0002C;</mo><mo>&#x02026;</mo><mo>&#x0002C;</mo><msub><mi>y</mi><mi>m</mi></msub><mo stretchy="false">]</mo></mrow></mrow></math>, where <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>R</mi></mrow></math> is a
<a class="reference internal" href="guarded_identifiers.html"><span class="std std-doc">guarded identifier</span></a>, and <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>t</mi></mrow></math> and <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>&#x003C6;</mi></mrow></math> are a term
and a (possibly informal) formula, resp., whose free variables are among <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><msub><mi>y</mi><mn>1</mn></msub><mo>&#x0002C;</mo><mo>&#x02026;</mo><mo>&#x0002C;</mo><msub><mi>y</mi><mi>m</mi></msub></mrow></math>.
We consider <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>R</mi></mrow></math> trivial if no relational constraints are
specified, and we consider <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>t</mi></mrow></math> trivial if it is a plain variable, which lets us classify
comprehension terms as</p>
<ul class="simple">
<li><p><strong>unguarded</strong> if both <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>R</mi></mrow></math> and <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>t</mi></mrow></math> are trivial (e.g. “<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mrow><mi>z</mi><mo>&#x02223;</mo><msup><mi>z</mi><mi>n</mi></msup><mo>&#x0003D;</mo><mn>1</mn><mtext>&#x000A0;for&#x000A0;some&#x000A0;</mtext><mi>n</mi><mo>&#x02208;</mo><mi>&#x02115;</mi></mrow></mrow></math>”),</p></li>
<li><p><strong>term-guarded</strong> if just <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>t</mi></mrow></math> is non-trivial (e.g. “<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mrow><msup><mi>n</mi><mn>2</mn></msup><mo>&#x02223;</mo><mi>n</mi><mo>&#x02208;</mo><mi>&#x02115;</mi></mrow></mrow></math>”),</p></li>
<li><p><strong>relation-guarded</strong> if just <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>R</mi></mrow></math> is non-trivial (e.g. “<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mrow><mn>1</mn><mo>&#x02264;</mo><mi>i</mi><mo>&#x02264;</mo><mi>n</mi><mo>&#x02223;</mo><mn>1</mn><mo>&#x0002F;</mo><mi>i</mi><mo>&#x0003C;</mo><mi>&#x003B5;</mi></mrow></mrow></math>”), or</p></li>
<li><p><strong>relation-term-guarded</strong> if both <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>R</mi></mrow></math> and <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>t</mi></mrow></math> are non-trivial (e.g.
“<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mrow><mi>&#x027E8;</mi><mi>p</mi><mo>&#x0002C;</mo><mi>n</mi><mi>&#x027E9;</mi><mo>&#x02208;</mo><mi>&#x02115;</mi><mi>&#x000D7;</mi><mi>&#x02115;</mi><mo>&#x02223;</mo><mi>p</mi><mtext>&#x000A0;is&#x000A0;a&#x000A0;prime&#x000A0;divisor&#x000A0;of&#x000A0;</mtext><mi>n</mi></mrow></mrow></math>”).</p></li>
</ul>
<p>We call a rewriting operation that eliminates a comprehension term from an
expression a comprehension term reduction.
If we want to reduce an expression of the form “<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>x</mi><mo>&#x02208;</mo><mi>C</mi></mrow></math>” (or, analogously, the
verbalized variant “<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>x</mi></mrow></math> is/be an element of <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>C</mi></mrow></math>”), where <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>C</mi></mrow></math> is a comprehension term,
we have to distinguish several cases depending on the structure of <math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>C</mi></mrow></math>.
Moreover, for each case we have to take the
structure of the sentence that contains the expression “<math data-mathjax="false" xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mi>x</mi><mo>&#x02208;</mo><mi>C</mi></mrow></math>” into account,
where we distinguish between</p>
<ul class="simple">
<li><p><strong>assertion expressions</strong>, i.e. expressions starting with an (optional) <code class="docutils literal notranslate"><span class="pre">then</span></code> (see below),</p></li>
<li><p><strong>declaration expressions</strong>, i.e. sentences starting with <code class="docutils literal notranslate"><span class="pre">let</span></code> (see below),</p></li>
<li><p><strong>choice expressions</strong>, i.e. sentences starting with <code class="docutils literal notranslate"><span class="pre">choose</span></code> (see below) or</p></li>
<li><p><strong>determiner expressions</strong>, i.e. expressions starting with a determiner.</p></li>
</ul>
<p>Moreover, in the case of declaration, choice and determiner expressions we
can have additional trailing expressions after the comprehension term that can
affect the result of the comprehension term reduction. Such trailing expressions
can involve additional adjective phrases, verb phrases, noun phrases
or proposition phrases.</p>
<div class="highlight-nbnf notranslate"><div class="highlight"><pre><span></span><span class="n">&lt;then&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;then&#39;</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;hence&#39;</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;thus&#39;</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;therefore&#39;</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;assume&#39;</span>
</pre></div>
</div>
<div class="highlight-nbnf notranslate"><div class="highlight"><pre><span></span><span class="n">&lt;let&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;let&#39;</span>
</pre></div>
</div>
<div class="highlight-nbnf notranslate"><div class="highlight"><pre><span></span><span class="n">&lt;choose&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;choose&#39;</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;take&#39;</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;consider&#39;</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;pick&#39;</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_01.html">Rule 5.1: “Then” Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_02.html">Rule 5.2: “Let” Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_03.html">Rule 5.3: “Let”-NP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_04.html">Rule 5.4: “Let”-AP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_05.html">Rule 5.5: “Let”-PP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_06.html">Rule 5.6: “Choose” Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_07.html">Rule 5.7: “Choose”-NP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_08.html">Rule 5.8: “Choose”-AP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_09.html">Rule 5.9: “Choose”-VP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_10.html">Rule 5.10: “Choose”-PP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_11.html">Rule 5.11: Determiner Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_12.html">Rule 5.12: Determiner-NP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_13.html">Rule 5.13: Determiner-AP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_14.html">Rule 5.14: Determiner-VP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_15.html">Rule 5.15: Determiner-PP Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_16.html">Rule 5.16: Subset Comprehension Term Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_17.html">Rule 5.17: Term Guard Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_18.html">Rule 5.18: Relation Guard Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_19.html">Rule 5.19: Relation-Term Guard Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_20.html">Rule 5.20: Element-NP Guard Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules/rule_5_21.html">Rule 5.21: Subset-NP Guard Reduction</a></li>
</ul>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">rewriting-rules</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="guarded_identifiers.html">Guarded Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_definition_reduction.html">Section 1: Definition Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_definition_reduction.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_variable_reduction.html">Section 2: Variable Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_determiner_reduction.html">Section 3: Determiner Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_aggregation.html">Section 4: Aggregation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Section 5: Comprehension Term Reduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_01.html">Rule 5.1: “Then” Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_02.html">Rule 5.2: “Let” Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_03.html">Rule 5.3: “Let”-NP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_04.html">Rule 5.4: “Let”-AP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_05.html">Rule 5.5: “Let”-PP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_06.html">Rule 5.6: “Choose” Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_07.html">Rule 5.7: “Choose”-NP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_08.html">Rule 5.8: “Choose”-AP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_09.html">Rule 5.9: “Choose”-VP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_10.html">Rule 5.10: “Choose”-PP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_11.html">Rule 5.11: Determiner Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_12.html">Rule 5.12: Determiner-NP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_13.html">Rule 5.13: Determiner-AP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_14.html">Rule 5.14: Determiner-VP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_15.html">Rule 5.15: Determiner-PP Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_16.html">Rule 5.16: Subset Comprehension Term Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_17.html">Rule 5.17: Term Guard Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_18.html">Rule 5.18: Relation Guard Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_19.html">Rule 5.19: Relation-Term Guard Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_20.html">Rule 5.20: Element-NP Guard Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="rules/rule_5_21.html">Rule 5.21: Subset-NP Guard Reduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="06_iota_conversion.html">Section 6: Iota Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_equality_conversion.html">Section 7: Equality Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_projection_reduction.html">Section 8: Projection Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_structure_expansion.html">Section 9: Structure Expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_modal_reduction.html">Section 10: Modal Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_logical_conversion.html">Section 11: Logical Conversion</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="rules/rule_4_17.html" title="previous chapter">Rule 4.17: “Either”-PP Aggregation</a></li>
      <li>Next: <a href="rules/rule_5_01.html" title="next chapter">Rule 5.1: “Then” Comprehension Term Reduction</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, KWARC.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/05_comprehension_term_reduction.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>